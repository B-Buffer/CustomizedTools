<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>1.1.&nbsp;Request Thread Dumps</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="TDA - Thread Dump Analyzer"><link rel="up" href="general.html" title="Chapter&nbsp;1.&nbsp;General"><link rel="prev" href="general.html" title="Chapter&nbsp;1.&nbsp;General"><link rel="next" href="parsing.html" title="1.2.&nbsp;Thread Dump Parsing"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="runtime"></a>1.1.&nbsp;Request Thread Dumps</h2></div></div></div><p>
                There are different methods to request a thread dump from a running applications, either using a kill
                Signal on UNIX, using a little tool on windows, since Java 1.5 using jstack or via Java Management Extensions (JMX).
            </p><p><b>Using a kill-Signal.&nbsp;</b>
                    For requesting a thread dump, you need to send a kill-QUIT-Signal to the Java VM. For this you the PID of the VM is required and then do a <code class="computeroutput">kill -QUIT &lt;PID&gt;</code> in a Unix Environment. On Windows there is a special tool for accomplishing this, e.g. SendSignal. See the References for a link to the homepage of this tool. It does the same like kill -QUIT on Unix. Note though, if you're using the remote connection on windows, you need to start the connection with <code class="computeroutput">mstsc.exe /console</code> otherwise you won't have sufficient rights to use
                    the tool.
                
                    The JDK will write the thread-dump to standard-out. E.g. if your application is running in a tomcat, this would be catalina.out in a default tomcat installation. In other situations this might just be the console where the application was started from.
                </p><p><b>Using Java Management Extensions (JMX).&nbsp;</b>
                    Since Sun's Java Version 1.5 JMX is bundled with the JDK. The JDK also includes a small JMX client application <span class="emphasis"><em>JConsole</em></span>, which can be used to connect to a running application using JMX. TDA is available as a plugin for JConsole. JMX is also available with VisualVM, a new troubleshooting tool. included in recent Java 1.6 JVM's. See <a href="analjconsole.html" title="Chapter&nbsp;3.&nbsp;Application Analysis using JConsole">Application Analysis using JConsole</a> for detailed information on how to use JConsole with the TDA Plugin.
                </p><p><b>Using jstack.&nbsp;</b>
                    Also starting with Sun's JDK 1.5 you can also request a thread dump using the JVM utility jstack. jstack prints the thread dump into the shell window where you called it. To use the dump in TDA, pipe the output into a log file and open this file. To analyze multiple dumps just append them to the log file. jstack also allows you to get thread dumps from javacore-files, either dumped on an <span class="emphasis"><em>OutOfMemoryError</em></span> or using the JVM tool jmap. On the windows platform this tool is available starting with JDK 1.6. It is not available at all on the linux-ia64 platform.
                </p></div></body></html>